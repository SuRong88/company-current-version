(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38050356"],{"5cfa":function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAQCAMAAAAs2N9uAAAATlBMVEUAAAAonf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf06fREtAAAAGXRSTlMAx/Paq1ME+ee+uG1bSS0i7tOgm5eAdzgdlD7VkgAAAGNJREFUGNNlz1kKwCAMANFxqd21e+v9L1oQi1bnJ/AghAB2X5WewZxC9SNA40Pjo8LswflYG6dm82V0pUhkTaJebEpRMBRkwfwPXACuzeQgdCfRxOZPhgjpT0HWlCTZIoUh9AKtsRLYCU6UQwAAAABJRU5ErkJggg=="},c0f6:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"collect"},[e("div",{staticClass:"title"},[t._v(t._s(t.cn?"收藏管理":"Bookmark Management"))]),t.lists.length?[e("div",{staticClass:"list clear hide-m"},t._l(t.lists,(function(s){return e("div",{staticClass:"item"},[e("img",{staticClass:"img",attrs:{src:s.img_path,alt:""}}),e("ul",{staticClass:"content"},[e("li",{staticClass:"item-title"},[t._v(t._s(s.company_name))]),e("li",[t._v("\n\t\t\t\t\t\t"+t._s(t.cn?"出售价格":"Selling Price")+"：\n\t\t\t\t\t\t"),e("span",{staticClass:"price"},[t._v("\n\t\t\t\t\t\t\t¥\n\t\t\t\t\t\t\t"),e("i",[t._v(t._s(s.company_price))])])]),e("li",[t._v(t._s(s.country_name)+"，"+t._s(s.region_name))]),e("li",t._l(s.company_type_lists,(function(s,a){return a<2?e("span",{staticClass:"label"},[t._v(t._s(s.company_type_name))]):t._e()})),0),e("li",{staticClass:"view"},[e("router-link",{staticClass:"detail-btn",attrs:{tag:"span",to:{path:"/company_purchase_info",query:{company_id:s.company_id}}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.cn?"查看详情":"View Details")+"\n\t\t\t\t\t\t")]),e("span",{staticClass:"collect-icon-box",on:{click:function(a){return t.cancelCollect(s.company_id,t.index)}}},[e("img",{staticClass:"collect-icon",attrs:{src:a("5cfa"),alt:""}}),t._v("\n\t\t\t\t\t\t\t"+t._s(t.cn?"取消":"Cancel")+"\n\t\t\t\t\t\t")])],1)])])})),0),e("div",{staticClass:"list clear hide-p"},[t._l(t.lists,(function(s){return e("div",{staticClass:"item"},[e("div",{staticClass:"top"},[e("img",{staticClass:"img",attrs:{src:s.img_path,alt:""}}),e("ul",{staticClass:"content"},[e("li",{staticClass:"item-title"},[t._v(t._s(s.company_name))]),e("li",[t._v("\n\t\t\t\t\t\t\t"+t._s(t.cn?"出售价格":"Selling Price")+"：\n\t\t\t\t\t\t\t"),e("span",{staticClass:"price"},[t._v("\n\t\t\t\t\t\t\t\t¥\n\t\t\t\t\t\t\t\t"),e("i",[t._v(t._s(s.company_price))])])]),e("li",[t._v(t._s(s.country_name)+"，"+t._s(s.region_name))]),e("li",[t._l(s.company_type_lists,(function(s,a){return a<2?e("span",{staticClass:"label"},[t._v(t._s(s.company_type_name))]):t._e()})),s.company_type_lists.length>2?e("span",[t._v("...")]):t._e()],2)])]),e("div",{staticClass:"bottom"},[e("div",{staticClass:"l"},[e("span",{staticClass:"collect-icon-box",on:{click:function(a){return t.cancelCollect(s.company_id,t.index)}}},[e("img",{staticClass:"collect-icon",attrs:{src:a("5cfa"),alt:""}}),t._v("\n\t\t\t\t\t\t\t"+t._s(t.cn?"取消":"Cancel")+"\n\t\t\t\t\t\t")])]),e("div",{staticClass:"r"},[e("router-link",{staticClass:"detail-btn",attrs:{tag:"span",to:{path:"/company_purchase_info",query:{company_id:s.company_id}}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.cn?"查看详情":"View Details")+"\n\t\t\t\t\t\t")])],1)])])})),t.current_page!=t.total_page&&0!=t.total_page?e("div",{staticClass:"more",on:{click:t.viewMore}},[t._v(t._s(t.cn?"查看更多":"View More"))]):e("div",{staticClass:"more"},[t._v(t._s(t.cn?"没有更多了":"No More"))])],2),e("el-pagination",{staticClass:"pagination hide-m",attrs:{background:"",layout:"prev, pager, next","page-size":12,"current-page":t.current_page,total:t.total_num},on:{"current-change":t.handleCurrentChange}})]:e("div",{staticClass:"no-result"},[t._v(t._s(t.cn?"收藏公司信息为空，快去收藏吧":"No information")+"～")])],2)},n=[],i={name:"collect",methods:{},data(){return{total_num:1,total_page:1,current_page:1,lists:[]}},watch:{$route:{handler(){console.log("当前页改变"),this.getCollectList()},deep:!0}},computed:{cn(){return"cn"==this.$store.state.language}},methods:{viewMore(){if(this.current_page<this.total_page){let t=JSON.parse(JSON.stringify(this.$route.query));t.page=this.current_page+1,this.$router.push({query:t})}},handleCurrentChange(t){console.log(t);let s=JSON.parse(JSON.stringify(this.$route.query));s.page=t,this.$router.push({query:s})},getCollectList(){this.$get(urls.collectList,{page:this.$route.query.page,limit:this.$route.query.limit}).then(t=>{this.loadEnd(),this.total_num=t.data.total_num,this.total_page=t.data.total_page,this.current_page=t.data.current_page,window.screen.width>750?this.lists=t.data.lists:this.lists=this.lists.concat(t.data.lists),console.log(t)}).catch(t=>{console.log(t),this.loadEnd(),this.errorToast(t.data.msg)})},cancelCollect(t,s){this.$post(urls.collect,{company_id:t,is_collect:0}).then(t=>{this.loadEnd(),this.cn?this.successToast("操作成功"):this.successToast("Action Succeeded"),this.lists.splice(s,1)}).catch(t=>{this.loadEnd(),this.cn?this.errorToast("操作失败"):this.errorToast("Action Failed"),console.log(t)})}},created(){if(window.screen.width<=750){let t=JSON.parse(JSON.stringify(this.$route.query));return 1==t.page?(this.getCollectList(),!1):(t.page=1,this.$router.replace({query:t}),!1)}this.getCollectList()}},l=i,c=a("4e82"),o=Object(c["a"])(l,e,n,!1,null,null,null);s["default"]=o.exports}}]);