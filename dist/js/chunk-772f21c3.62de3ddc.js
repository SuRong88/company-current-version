(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-772f21c3"],{"02cf":function(t,e,s){"use strict";var i=s("29d1"),a=s.n(i);a.a},"29d1":function(t,e,s){},b436:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"forget"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"forget-box"},[s("h1",{staticClass:"title"},[t._v(t._s(t.cn?"找回密码":"Retrieve password"))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"account",attrs:{type:"text",placeholder:t.cn?"输入邮箱账号":"Enter E-mail Address"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("p",{staticClass:"code-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.code01,expression:"code01"}],staticClass:"code",attrs:{type:"text",placeholder:t.cn?"输入验证码":"Enter verification code"},domProps:{value:t.code01},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirmCode(e)},input:function(e){e.target.composing||(t.code01=e.target.value)}}}),s("button",{staticClass:"code-btn",class:{waiting:t.waiting},on:{click:t.getImgCode}},[t._v(t._s(t.text))])]),s("button",{staticClass:"submit-btn",on:{click:t.confirmCode}},[t._v(t._s(t.cn?"提交":"Submit"))])]),t.getCode?s("div",{staticClass:"mask"},[s("div",{staticClass:"content"},[s("span",{staticClass:"el-icon el-icon-close close-btn",on:{click:function(e){t.getCode=!1}}}),s("h2",{staticClass:"title"},[t._v(t._s(t.cn?"输入图像验证码":"Please enter Captcha code"))]),s("p",{staticClass:"code-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.code01,expression:"code01"}],attrs:{type:"text",placeholder:t.cn?"点击验证码可更换":"Click captcha code to replace"},domProps:{value:t.code01},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.confirmCode(e)},input:function(e){e.target.composing||(t.code01=e.target.value)}}}),s("span",{staticClass:"code-img-box",on:{click:t.changeCode}},[s("img",{staticClass:"code-img",attrs:{src:t.codePath,alt:""}})])]),s("div",{staticClass:"btn-box"},[s("button",{staticClass:"comfirm-btn",on:{click:t.confirmCode}},[t._v(t._s(t.cn?"确定":"Confirm"))]),s("button",{staticClass:"cancel-btn",on:{click:t.cancelCode}},[t._v(t._s(t.cn?"取消":"Cancel"))])])])]):t._e(),t.success?s("div",{staticClass:"mask"},[s("div",{staticClass:"content content-success"},[s("span",{staticClass:"el-icon el-icon-close close-btn",on:{click:function(e){t.success=!1}}}),s("h2",{staticClass:"title"},[t._v(t._s(t.cn?"操作成功":"Action Succeeded"))]),s("p",{staticClass:"tip"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"修改密码邮件已发到":"E-mail to reset password has been sent to")+"\n\t\t\t\t\t"),s("span",{staticClass:"email"},[t._v(t._s(t.email))]),t._v("\n\t\t\t\t\t"+t._s(t.cn?"邮箱， 请前往修改":"mailbox, please go ahead to reset")+"\n\t\t\t\t")]),s("button",{staticClass:"know-btn",on:{click:function(e){t.success=!1}}},[t._v(t._s(t.cn?"我知道了":"OK"))])])]):t._e()])])},a=[],o={name:"register",data(){return{text:"",waiting:!1,email:"",getCode:!1,success:!1,code01:"",code02:"",emailCode:"",codePath:""}},computed:{cn(){return this.text="cn"==this.$store.state.language?"获取验证码":"Get verification code","cn"==this.$store.state.language}},methods:{getImgCode(){return!this.waiting&&(this.code01="",this.nullTest(this.email)?(this.cn?this.errorToast("邮箱不能为空"):this.errorToast("Please enter e-mail"),!1):this.emailTest(this.email)?(this.codePath=urls.captcha,void(this.getCode=!0)):(this.cn?this.errorToast("邮箱格式错误"):this.errorToast("Incorrect e-mail format"),!1))},changeCode(){this.codePath+=Math.random()},confirmCode(){if(this.waiting)return this.cn?this.errorToast("请不要频繁操作"):this.errorToast("Please do not operate frequently"),!1;var t=this.email.trim(),e=this.code01.trim();return t?this.emailTest(t)?this.nullTest(e)?(this.cn?this.errorToast("验证码不能为空"):this.errorToast("Please enter verification code"),!1):/^\d{4}$/.test(e)?void this.$post(urls.email,{email:t,kinds:"pwd",captcha:e}).then(t=>{this.success=!0,this.getCode=!1,this.loadEnd(),this.waiting=!0,this.text="59s";var e=setInterval(()=>{if(0==parseInt(this.text))this.text=this.cn?"重新获取":"Resend",this.waiting=!1,clearInterval(e);else{var t=parseInt(this.text)-1;this.text=t+"s"}},1e3);this.getCode=!1,this.emailCode=t.data.email_code,console.log(t)}).catch(t=>{console.log(t),this.loadEnd(),this.errorToast(t.data.msg),this.code01="",this.changeCode()}):(this.cn?this.errorToast("验证码格式错误"):this.errorToast("Incorrect verification code format"),!1):(this.cn?this.errorToast("邮箱格式错误"):this.errorToast("Incorrect e-mail format"),!1):(this.cn?this.errorToast("邮箱不能为空"):this.errorToast("Please enter e-mail"),!1)},cancelCode(){this.getCode=!1,this.code01=""}},created(){this.$store.commit("logout")}},c=o,n=(s("02cf"),s("4e82")),r=Object(n["a"])(c,i,a,!1,null,null,null);e["default"]=r.exports}}]);