(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04b1dfd7"],{"0154":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAMAAAAMs7fIAAAARVBMVEUAAAApnv0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf0onf3///8onf3s9/9Fqv3T6/9yv/7C4/6+4f7V7P90wP6w1mqUAAAADXRSTlMA524N7bp/XMBa+cFd+7HkOAAAAHhJREFUGNNtkOsOgCAIhQEtuxFml/d/1DCa5er8cOPbN8YRchx1fvYdObjTY9qEZUvYG2jjzpY9tpcRJU9zfiQG3YELF8KLd0CJX4QTQbNWZG0ApSKCMOhQonj4Oj976KjIQT/3QKhunqyXWmZYL7VK9wB3HI3P/5z61wurmtJfUwAAAABJRU5ErkJggg=="},"623c":function(t,e,s){"use strict";var n=s("8913"),i=s.n(n);i.a},8913:function(t,e,s){},d7c6:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAMAAAAMs7fIAAAAZlBMVEUAAADT09PS0tLS0tLS0tLS0tLS0tLY2NjS0tLS0tLT09PS0tLS0tLS0tLT09PS0tLS0tLS0tLS0tLS0tLS0tLS0tL////z8/P7+/vW1tb19fXy8vLh4eHs7OzX19fS0tLu7u7i4uLgxatPAAAAFnRSTlMA6gvmcmxR/u7fZ8C5t7NW4XtYSw0JGs1JrgAAAKBJREFUGNNVkFcWAyEIRbFNL6kMEaftf5Nh0Hzkfnj0noegcGF93+ymDxYKszmZkDi5Kot7HTETN3+JR034g7YZ4GUi8qLnhTEaC+GU7UeUrFKdAgyMqrJAHsAQqlpVILWwo7LuK6ppSoYls5TMyCpiuZ5HCCmL0jF1YJ3ME/M80tBZgOpvZn2Z3zSidR6UyqWDiI7knlB4d9OtaadO/+cLrEATmypm+60AAAAASUVORK5CYII="},de4b:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info"},[n("div",{staticClass:"title"},[t._v("\n\t\t"+t._s(t.cn?"账号信息":"Account Information"))]),n("div",{staticClass:"content-wrapper"},[n("ul",[n("li",[n("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"用户昵称":"Username"))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.member_name,expression:"user.member_name"}],staticClass:"input",class:{editable:t.edit1},attrs:{readonly:!t.edit1&&"readonly",type:"text"},domProps:{value:t.user.member_name},on:{input:function(e){e.target.composing||t.$set(t.user,"member_name",e.target.value)}}}),t.edit1?t._e():n("span",{staticClass:"edit-txt",on:{click:function(e){t.edit1=!0}}},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"修改":"Modify"))])]),n("li",[n("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"账号":"Account"))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"input",attrs:{readonly:"",type:"text"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}})]),n("li",{staticClass:"konw"},[n("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"我想了解":"Interested in"))]),n("div",{staticClass:"condition-box"},[n("div",{staticClass:"select-item"},[n("el-radio-group",{model:{value:t.businessIndex,callback:function(e){t.businessIndex=e},expression:"businessIndex"}},t._l(t.businesses,(function(e,s){return n("el-radio-button",{staticClass:"disable",attrs:{disabled:!t.edit3&&"disabled",label:s}},[t._v(t._s(e.company_type_name))])})),1)],1),n("div",{staticClass:"select-item select-item2"},t._l(t.knowArr,(function(e,i){return n("div",{staticClass:"area-box area-box2"},[n("div",{staticClass:"cr-box"},[n("el-select",{staticClass:"country",attrs:{filterable:"","no-match-text":t.cn?"无匹配":"No match","no-data-text":t.cn?"无数据":"No data",disabled:!t.edit3&&"disabled",placeholder:t.cn?"国家":"Country"},on:{change:function(e){return t.getRegion(i)}},model:{value:e[0],callback:function(s){t.$set(e,0,s)},expression:"obj[0]"}},t._l(t.countryArr,(function(t,e){return n("el-option",{key:t.country_id,attrs:{label:t.country_name,value:e}})})),1),n("el-select",{staticClass:"area",attrs:{filterable:"","no-match-text":t.cn?"无匹配":"No match","no-data-text":t.cn?"无数据":"No data",disabled:!t.edit3&&"disabled",placeholder:t.cn?"地区":"Region"},model:{value:e[1],callback:function(s){t.$set(e,1,s)},expression:"obj[1]"}},t._l(t.knowRegionArr[i],(function(t,e){return n("el-option",{key:t.region_id,attrs:{label:t.region_name,value:e}})})),1),i==t.knowArr.length-1&&t.knowArr.length<3?n("span",{on:{click:t.addKnow}},[n("img",{staticClass:"add-icon",attrs:{src:s("0154"),alt:""}})]):t._e(),i>0?n("img",{staticClass:"remove-icon",attrs:{src:s("d7c6"),alt:""},on:{click:function(e){return t.reduceKnow(i)}}}):t._e()],1)])})),0),n("div",{staticClass:"select-item"},[n("div",{staticClass:"tag-box"},[n("el-checkbox-group",{attrs:{min:0,max:3},model:{value:t.tagIndexs,callback:function(e){t.tagIndexs=e},expression:"tagIndexs"}},t._l(t.tags,(function(e,s){return n("el-checkbox",{key:e.company_type_id,attrs:{disabled:!t.edit3&&"disabled",label:s}},[t._v(t._s(e.company_type_name))])})),1)],1)])]),t.edit3?t._e():n("span",{staticClass:"edit-txt",on:{click:function(e){t.edit3=!0}}},[t._v(t._s(t.cn?"修改":"Modify"))])]),n("li",[n("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"国家/地区":"Country/Region"))]),n("div",{staticClass:"area-box"},[n("el-select",{staticClass:"country",attrs:{filterable:"","no-match-text":t.cn?"无匹配":"No match","no-data-text":t.cn?"无数据":"No data",placeholder:t.cn?"国家":"Country",disabled:!t.edit4&&"disabled"},on:{change:t.getRegion02},model:{value:t.countryIndex2,callback:function(e){t.countryIndex2=e},expression:"countryIndex2"}},t._l(t.countryArr,(function(t,e){return n("el-option",{key:t.country_id,attrs:{label:t.country_name,value:e}})})),1),n("el-select",{staticClass:"area",attrs:{filterable:"","no-match-text":t.cn?"无匹配":"No match","no-data-text":t.cn?"无数据":"No data",disabled:!t.edit4&&"disabled",placeholder:t.cn?"地区":"Region"},model:{value:t.regionIndex2,callback:function(e){t.regionIndex2=e},expression:"regionIndex2"}},t._l(t.regionArr02,(function(t,e){return n("el-option",{key:t.region_id,attrs:{label:t.region_name,value:e}})})),1)],1),t.edit4?t._e():n("span",{staticClass:"edit-txt",on:{click:function(e){t.edit4=!0}}},[t._v(t._s(t.cn?"修改":"Modify"))])]),n("li",[n("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"手机号":"Phone"))]),n("div",{staticClass:"prefix"},[n("span",{staticClass:"prefix-icon"},[t._v("+")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone_prefix,expression:"user.phone_prefix"}],staticClass:"phone-prefix",class:{editable:t.edit5},attrs:{readonly:!t.edit5&&"readonly"},domProps:{value:t.user.phone_prefix},on:{input:function(e){e.target.composing||t.$set(t.user,"phone_prefix",e.target.value)}}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],staticClass:"input input2",class:{editable:t.edit5},attrs:{readonly:!t.edit5&&"readonly",type:"text"},domProps:{value:t.user.phone},on:{input:function(e){e.target.composing||t.$set(t.user,"phone",e.target.value)}}}),t.edit5?t._e():n("span",{staticClass:"edit-txt",on:{click:function(e){t.edit5=!0}}},[t._v(t._s(t.cn?"修改":"Modify"))])]),n("li",[n("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"QQ号":"QQ"))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.qq,expression:"user.qq"}],staticClass:"input",class:{editable:t.edit6},attrs:{readonly:!t.edit6&&"readonly",type:"text"},domProps:{value:t.user.qq},on:{input:function(e){e.target.composing||t.$set(t.user,"qq",e.target.value)}}}),t.edit6?t._e():n("span",{staticClass:"edit-txt",on:{click:function(e){t.edit6=!0}}},[t._v(t._s(t.cn?"修改":"Modify"))])]),n("li",[n("span",{staticClass:"label"},[t._v("whatsApp")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.whatsapp,expression:"user.whatsapp"}],staticClass:"input",class:{editable:t.edit7},attrs:{readonly:!t.edit7&&"readonly",type:"text"},domProps:{value:t.user.whatsapp},on:{input:function(e){e.target.composing||t.$set(t.user,"whatsapp",e.target.value)}}}),t.edit7?t._e():n("span",{staticClass:"edit-txt",on:{click:function(e){t.edit7=!0}}},[t._v(t._s(t.cn?"修改":"Modify"))])]),n("li",[n("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"微信":"WeChat"))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"}],staticClass:"input",attrs:{readonly:"",type:"text"},domProps:{value:t.status},on:{input:function(e){e.target.composing||(t.status=e.target.value)}}}),n("span",{staticClass:"edit-txt",on:{click:function(e){t.qrCode=!0}}},[t._v(t._s(t.cn?"修改":"Modify"))])])]),n("button",{staticClass:"btn btn-confrim",on:{click:t.saveHandle}},[t._v("\n\t\t\t"+t._s(t.cn?"确认":"Confirm"))])]),t.qrCode?n("div",{staticClass:"mask code-mask",on:{touchmove:function(t){t.preventDefault()}}},[n("div",{staticClass:"content"},[n("span",{staticClass:"el-icon el-icon-close close-btn",on:{click:function(e){t.qrCode=!1}}}),n("h2",{staticClass:"title"},[t._v("\n\t\t\t\t"+t._s(t.cn?"微信扫描二维码绑定":"Please open WeChat to scan the code for binding"))]),n("img",{staticClass:"code",attrs:{src:t.codeUrl,alt:""}}),t.mobile?n("p",{staticClass:"tips"},[t._v("\n\t\t\t\t"+t._s(t.cn?"请微信关注“全球并购公司”公众号后，长按识别本二维码绑定，获取最新信息":"Please follow WeChat Subscription “Global Company Sales” , then long press to identiry this QR code to obtain the latest information.")+"\n\t\t\t")]):n("p",{staticClass:"tips"},[t._v("\n\t\t\t\t"+t._s(t.cn?"请微信关注“全球并购公司”公众号后扫描本二维码绑定，获取最新信息":"Please follow WeChat Subscription “Global Company Sales” , then scan this QR code to subscribe and obtain the latest information.")+"\n\t\t\t")])])]):t._e()])},i=[],a={name:"info",data(){return{knowArr:[],knowRegionArr:[],mobile:!0,status:"",user:{},edit1:!1,edit2:!1,edit3:!1,edit4:!1,edit5:!1,edit6:!1,edit7:!1,edit8:!1,select:!1,qrCode:!1,business_type:[{}],industry_type:[{}],area:[{}],country_id:"",country_name:"",region_id:"",region_name:"",countryIndex1:null,regionIndex1:null,regionArr01:[],countryIndex2:null,regionIndex2:null,regionArr02:[],countryArr:[],regionArr01:[],regionArr02:[],checkedCountryIndexs:null,checkedRegionIndexs:null,tags:[],tagIndexs:[],businesses:[],businessIndex:null,codeUrl:""}},watch:{businessIndex(){this.business_type[0]=this.businesses[this.businessIndex]},tagIndexs(){var t=[];this.tagIndexs.forEach(e=>{t.push(this.tags[e])}),this.industry_type=t},countryIndex2(){var t=this.countryArr[this.countryIndex2];if(this.country_id=t.country_id,this.country_name=t.country_name,null===this.regionIndex2)this.region_id="",this.region_name="";else{var e=this.countryArr[this.regionIndex1];this.region_id=e.region_id,this.region_name=e.region_name}},regionIndex2(){if(null===this.regionIndex2)this.region_id="",this.region_name="";else{var t=this.regionArr02[this.regionIndex2];this.region_id=t.region_id,this.region_name=t.region_name}}},methods:{addKnow(){if(!this.edit3)return!1;this.knowArr.push([]),this.knowRegionArr.push([])},reduceKnow(t){if(!this.edit3)return!1;this.knowArr.splice(t,1),this.knowRegionArr.splice(t,1)},getHome(){this.$get(urls.isHome,{}).then(t=>{this.loadEnd(),this.home=t.data.home})},getRegion(t){this.$set(this.knowArr,t,[this.knowArr[t][0]]),this.$set(this.knowRegionArr,t,[]),this.$get(urls.area,{country_id:this.countryArr[this.knowArr[t][0]].country_id}).then(e=>{this.loadEnd(),this.$set(this.knowRegionArr,t,e.data.region)})},editHandle(t){this.edit[t]=0,console.log(t),console.log(this.edit[t])},selectHandle(){this.select=!this.select},getRegion01(t,e,s,n){this.$get(urls.area,{country_id:t}).then(t=>{this.loadEnd(),t.data.region.forEach((i,a)=>{i.region_id==e&&(this.$set(this.knowArr,n,[s,a]),this.$set(this.knowRegionArr,n,t.data.region))})})},getRegion02(){this.regionIndex2=null,this.$get(urls.area,{country_id:this.countryArr[this.countryIndex2].country_id}).then(t=>{this.loadEnd(),this.regionArr02=t.data.region,this.regionArr02.forEach((t,e)=>{t["region_id"]==this.user.region_id&&(this.regionIndex2=e,console.log(this.regionIndex2))}),console.log(t)})},getCountry(){return this.$get(urls.area,{country_id:0})},bindWechat(){this.qrCode=!0},getBusiness(){return this.$get(urls.companyType,{parent_type:"business"})},getIndustry(){return this.$get(urls.companyType,{parent_type:"industry"})},getUserInfo(){this.$get(urls.info,{}).then(t=>{this.loadEnd(),t.data.openid?this.status=this.cn?"已绑定":"bind":this.status="",this.user=t.data,this.area=t.data.know_area,this.business_type=t.data.know_business_type,this.industry_type=t.data.know_industry_type;let e=localStorage.getItem("language")||"cn";window.screen.width>750?this.codeUrl="http://www.gcsgou.com/api/api/wx_account/qrcode_img?kinds=change&device=pc&language="+e+"&member_numbers="+t.data.member_numbers:this.codeUrl="http://www.gcsgou.com/api/api/wx_account/qrcode_img?kinds=change&device=mobile&language="+e+"&member_numbers="+t.data.member_numbers,this.tags.forEach((e,s)=>{for(let n=0;n<t.data.know_industry_type.length;n++)e["company_type_id"]==t.data.know_industry_type[n]["company_type_id"]&&(console.log("yes"),this.tagIndexs.push(s))}),this.businesses.forEach((e,s)=>{for(let n=0;n<t.data.know_business_type.length;n++)e["company_type_id"]==t.data.know_business_type[n]["company_type_id"]&&(this.businessIndex=s)}),this.knowArr=[];var s=0;this.countryArr.forEach((e,n)=>{for(var i=0;i<t.data.know_area.length;i++)e["country_id"]==t.data.know_area[i].country_id&&(this.knowArr.push([n]),console.log(t.data.know_area[i].country_id,t.data.know_area[i].region_id,n,s),this.getRegion01(t.data.know_area[i].country_id,t.data.know_area[i].region_id,n,s),s++)}),this.countryArr.some((e,s)=>{if(e["country_id"]==t.data.country_id)return this.countryIndex2=s,this.getRegion02(),!0})})},saveHandle(){return this.area=[],this.knowArr.forEach((t,e)=>{if(0==t.length)return!1;let s=this.countryArr[t[0]],n=null;n=t.length<2?{region_id:"",region_name:""}:this.knowRegionArr[e][t[1]],this.area.push(Object.assign(s,n))}),this.nullTest(this.user.member_name)?(this.cn?this.errorToast("昵称不能为空"):this.errorToast("Nickname cannot be empty"),!1):this.user.member_name.length>20?(this.cn?this.errorToast("昵称过长"):this.errorToast("Nickname too long"),!1):0==this.knowArr.length?(this.cn?this.errorToast("请你选择至少一个想了解的国家地区"):this.errorToast("Please select the country you want to know"),!1):0==this.tagIndexs.length?(this.cn?this.errorToast("请你选择至少一个标签"):this.errorToast("Please select at least one label"),!1):this.nullTest(this.user.phone_prefix)?(this.cn?this.errorToast("手机号码前缀不能为空"):this.errorToast("Please enter mobile number prefix"),!1):this.nullTest(this.user.phone)?(this.cn?this.errorToast("手机号不能为空"):this.errorToast("Mobile number cannot be empty"),!1):void this.$put(urls.infoEdit,{member_name:this.user.member_name,know_business_type:this.business_type,know_industry_type:this.industry_type,know_area:this.area,country_id:this.country_id,country_name:this.country_name,region_id:this.region_id,region_name:this.region_name,phone_prefix:this.user.phone_prefix,phone:this.user.phone,qq:this.user.qq,whatsapp:this.user.whatsapp,wx_code:""}).then(()=>{this.loadEnd(),this.cn?this.successToast("修改成功"):this.successToast("Modified Successfully"),this.edit1=!1,this.edit2=!1,this.edit3=!1,this.edit4=!1,this.edit5=!1,this.edit6=!1,this.edit7=!1,this.edit8=!1,this.$store.dispatch("getUserInfoHandle"),this.getUserInfo()}).catch(t=>{this.loadEnd(),this.errorToast(t.data.msg)})}},computed:{cn(){return"cn"==this.$store.state.language}},created(){window.screen.width>750&&(this.mobile=!1),this.axiosAll([this.getIndustry(),this.getBusiness(),this.getCountry()]).then(t=>{console.log(t),this.loadEnd(),this.tags=t[0].data,this.businesses=t[1].data,this.countryArr=t[2].data.country,this.getUserInfo()})}},o=a,r=(s("623c"),s("4e82")),l=Object(r["a"])(o,n,i,!1,null,"1b5b59ab",null);e["default"]=l.exports}}]);