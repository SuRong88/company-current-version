(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d8b2"],{d26d:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"publish"},[s("div",{staticClass:"title"},[t._v("\n\t\t"+t._s(t.cn?"发布出售公司":"Post Company for Sale"))]),s("div",{staticClass:"content-wrapper"},[s("ul",[s("li",[s("span",{staticClass:"label must"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"公司名称":"Name")+"：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input",attrs:{type:"text",placeholder:t.cn?"请输入公司名称":"Please enter Company Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("li",[s("span",{staticClass:"label must"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"行业标签":"Industries")+"：")]),s("div",{staticClass:"content-box2"},[s("el-checkbox-group",{attrs:{min:0,max:3},model:{value:t.industryIndexs,callback:function(e){t.industryIndexs=e},expression:"industryIndexs"}},t._l(t.industryArr,(function(e,a){return s("el-checkbox",{key:e.company_type_id,attrs:{label:a}},[t._v(t._s(e.company_type_name))])})),1)],1)]),s("li",[s("span",{staticClass:"label must"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"企业类型":"Type")+"：")]),s("div",{staticClass:"content-box2"},[s("el-checkbox-group",{attrs:{min:0,max:1},model:{value:t.businessIndexs,callback:function(e){t.businessIndexs=e},expression:"businessIndexs"}},t._l(t.businessArr,(function(e,a){return s("el-checkbox",{key:e.company_type_id,attrs:{label:a}},[t._v(t._s(e.company_type_name))])})),1)],1)]),s("li",[s("span",{staticClass:"label must"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"地点":"Address")+"：")]),s("div",{staticClass:"mul-box"},[s("el-select",{staticClass:"select",attrs:{filterable:"","no-match-text":t.cn?"无匹配":"No match","no-data-text":t.cn?"无数据":"No data",placeholder:t.cn?"国家":"Country"},model:{value:t.countryIndex,callback:function(e){t.countryIndex=e},expression:"countryIndex"}},t._l(t.countryArr,(function(t,e){return s("el-option",{key:t.country_id,attrs:{label:t.country_name,value:e}})})),1),s("el-select",{staticClass:"select",attrs:{filterable:"","no-match-text":t.cn?"无匹配":"No match","no-data-text":t.cn?"无数据":"No data",placeholder:t.cn?"地区":"Region"},model:{value:t.regionIndex,callback:function(e){t.regionIndex=e},expression:"regionIndex"}},t._l(t.regionArr,(function(t,e){return s("el-option",{key:t.region_id,attrs:{label:t.region_name,value:e}})})),1),s("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"input address",attrs:{type:"text",placeholder:t.cn?"请输入详细地址":"Please enter detailed address "},domProps:{value:t.address},on:{input:function(e){e.target.composing||(t.address=e.target.value)}}})],1)]),s("li",[s("span",{staticClass:"label must"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"成立时间":"Established On")+"：")]),s("div",{staticClass:"mul-box"},[s("el-select",{staticClass:"select",attrs:{filterable:"","no-match-text":t.cn?"无匹配":"No match","no-data-text":t.cn?"无数据":"No data",placeholder:t.cn?"年":"Year"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}},t._l(t.years,(function(t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),1),s("el-select",{staticClass:"select",attrs:{filterable:"","no-match-text":t.cn?"无匹配":"No match","no-data-text":t.cn?"无数据":"No data",placeholder:t.cn?"月":"Month"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}},t._l(t.months,(function(t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1)]),s("li",[s("span",{staticClass:"label must"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"出售原因":"Selling Reasons")+"：")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason,expression:"reason"}],staticClass:"input high",attrs:{placeholder:t.cn?"请输入出售原因":"Please enter Selling Reason"},domProps:{value:t.reason},on:{input:function(e){e.target.composing||(t.reason=e.target.value)}}})]),s("li",[s("span",{staticClass:"label must"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"售价":"Price")+"：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"input",attrs:{type:"text",placeholder:t.cn?"请输入售价及币种":"Please enter Selling Price and Currency "},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),s("li",[s("span",{staticClass:"label must"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"公司简介":"Profile")+"：")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],staticClass:"input high",attrs:{placeholder:t.cn?"请输入公司简介":"Please enter Company Profile"},domProps:{value:t.desc},on:{input:function(e){e.target.composing||(t.desc=e.target.value)}}})]),s("li",[s("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"经营范围":"Scope of Business")+"：")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.scope,expression:"scope"}],staticClass:"input high",attrs:{placeholder:t.cn?"请输入经营范围":"Please enter Scope of Business"},domProps:{value:t.scope},on:{input:function(e){e.target.composing||(t.scope=e.target.value)}}})]),s("li",[s("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"公司负债":"Company Debt")+"：")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.debt,expression:"debt"}],staticClass:"input high",attrs:{placeholder:t.cn?"请输入公司负债":"Please enter Company Debt"},domProps:{value:t.debt},on:{input:function(e){e.target.composing||(t.debt=e.target.value)}}})]),s("li",[s("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"营业证明":"Business Certificate")+"：")]),s("div",{staticClass:"mul-box"},[t._l(t.license_imgs,(function(e,a){return s("div",{staticClass:"img-item"},[s("img",{staticClass:"img",attrs:{src:e.img_path}}),s("span",{staticClass:"remove-btn",on:{click:function(e){return t.delImg(a,"type1")}}})])})),t.license_imgs.length<1?s("div",{staticClass:"upload-btn img-item"},[s("input",{staticClass:"upload",attrs:{accept:"image/*",type:"file",value:""},on:{change:t.uploadImg01}})]):t._e()],2)]),s("li",[s("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"行业证书":"Industry Certificate")+"：")]),s("div",{staticClass:"mul-box"},[t._l(t.certificate_imgs,(function(e,a){return s("div",{staticClass:"img-item"},[s("img",{staticClass:"img",attrs:{src:e.img_path}}),s("span",{staticClass:"remove-btn",on:{click:function(e){return t.delImg(a,"type2")}}})])})),t.certificate_imgs.length<5?s("div",{staticClass:"upload-btn img-item"},[s("input",{staticClass:"upload",attrs:{accept:"image/*",type:"file",value:""},on:{change:t.uploadImg02}})]):t._e()],2)]),s("li",[s("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"公司照片":"Company Photos")+"：")]),s("div",{staticClass:"mul-box"},[t._l(t.imgs,(function(e,a){return s("div",{staticClass:"img-item"},[s("img",{staticClass:"img",attrs:{src:e.img_path}}),s("span",{staticClass:"remove-btn",on:{click:function(e){return t.delImg(a,"type3")}}})])})),t.imgs.length<5?s("div",{staticClass:"upload-btn img-item"},[s("input",{staticClass:"upload",attrs:{accept:"image/*",type:"file",value:""},on:{change:t.uploadImg03}})]):t._e()],2)]),s("li",[s("span",{staticClass:"label"},[t._v("\n\t\t\t\t\t"+t._s(t.cn?"公司收入":"Company Revenue")+"：")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.income,expression:"income"}],staticClass:"input",attrs:{type:"text",placeholder:t.cn?"请输入公司收入":"Please enter Company Revenue"},domProps:{value:t.income},on:{input:function(e){e.target.composing||(t.income=e.target.value)}}})]),s("li",[s("span",{staticClass:"label"}),s("div",{staticClass:"content-box2 book-box"},[s("div",{staticClass:"box clear"},[s("span",{staticClass:"agree-btn",class:{agree:t.agree},on:{click:function(e){t.agree=!t.agree}}}),s("span",[t._v("\n\t\t\t\t\t\t\t"+t._s(t.cn?"同意":"Agree"))]),s("span",{staticClass:"book",on:{click:function(e){t.book1=!0}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.cn?"《出售公司委托书》":"《Proxy for selling a company》"))]),t._v("\n\t\t\t\t\t\t/\n\t\t\t\t\t\t"),s("span",{staticClass:"book",on:{click:function(e){t.book2=!0}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.cn?"《内容发布协议》":"《Information release agreement》"))])]),s("span",{staticClass:"tip"},[t._v("\n\t\t\t\t\t\t"+t._s(t.cn?"注：带 * 号为必填选项":"Notes: * is required field"))])])])]),s("button",{staticClass:"btn btn-confirm",on:{click:t.submit}},[t._v("\n\t\t\t"+t._s(t.cn?"确认":"Confirm"))])]),t.book1?s("div",{staticClass:"mask"},[s("div",{staticClass:"content book-mask edit_textBox"},[s("div",{staticClass:"book-txt"},[s("span",{staticClass:"el-icon el-icon-close close-btn",on:{click:function(e){t.book1=!1}}}),s("div",{domProps:{innerHTML:t._s(t.bookText1)}})])])]):t._e(),t.book2?s("div",{staticClass:"mask "},[s("div",{staticClass:"content book-mask edit_textBox"},[s("div",{staticClass:"book-txt"},[s("span",{staticClass:"el-icon el-icon-close close-btn",on:{click:function(e){t.book2=!1}}}),s("div",{domProps:{innerHTML:t._s(t.bookText2)}})])])]):t._e()])},i=[],n=s("6be6"),r=s.n(n);const o=[],l=[1,2,3,4,5,6,7,8,9,10,11,12];for(var c=(new Date).getFullYear(),d=c-1900,u=0;u<=d;u++)o.push(c--);var h={name:"publish",data(){return{book1:!1,book2:!1,bookText1:"",bookText2:"",name:"",address:"",reason:"",price:"",desc:"",scope:"",debt:"",income:"",agree:!1,industryArr:[],businessArr:[],industryIndexs:[],businessIndexs:[],countryArr:[],regionArr:[],countryIndex:null,regionIndex:null,country_id:"",country_name:"",region_id:"",region_name:"",years:o,months:l,year:"",month:"",business_type_lists:[],industry_type_lists:[],license_imgs:[],certificate_imgs:[],imgs:[]}},watch:{industryIndexs(){var t=[];this.industryIndexs.forEach(e=>{t.push(this.industryArr[e])}),this.industry_type_lists=t},businessIndexs(){var t=[];this.businessIndexs.forEach(e=>{t.push(this.businessArr[e])}),this.business_type_lists=t},countryIndex(){this.country_name=this.countryArr[this.countryIndex].country_name,this.country_id=this.countryArr[this.countryIndex].country_id,this.getRegion()},regionIndex(){this.region_name=this.regionArr[this.regionIndex].region_name,this.region_id=this.regionArr[this.regionIndex].region_id}},computed:{cn(){return"cn"==this.$store.state.language}},methods:{getInstruction(){this.$get(urls.instruction,{}).then(t=>{this.loadEnd(),this.bookText1=t.data.purchase,this.bookText2=t.data.merge})},getIndustryArr(){this.$get(urls.companyType,{parent_type:"industry"}).then(t=>{this.loadEnd(),this.industryArr=t.data}).catch(t=>{this.loadEnd(),console.log(t)})},getBusinessArr(){this.$get(urls.companyType,{parent_type:"business"}).then(t=>{this.loadEnd(),this.businessArr=t.data}).catch(t=>{this.loadEnd(),console.log(t)})},getCountry(){this.$get(urls.area,{country_id:0}).then(t=>{this.loadEnd(),this.countryArr=t.data.country,console.log(t)})},getRegion(){this.$get(urls.area,{country_id:this.country_id}).then(t=>{this.loadEnd(),this.regionArr=t.data.region,console.log(t)})},uploadImg01(t){if(this.license_imgs.length>=1)return this.cn?this.errorToast("最多只能上传1张图片"):this.errorToast("No more than one picture"),!1;const e=t.target.files||t.dataTransfer.files;let s=e[0];r()(s,{}).then(t=>{console.log(t.base64),this.$post(urls.uploadImg,{name:"1",base64:t.base64}).then(e=>{this.loadEnd();var s=new Object;s.img_id=e.data.id,s.img_path=t.base64,this.license_imgs.push(s),console.log(s)}).catch(t=>{this.loadEnd(),this.cn?this.errorToast("上传失败 请重试"):this.errorToast("Upload failed,try again")})}).catch(t=>{this.cn?this.errorToast("转码失败 请重试"):this.errorToast("Convert failed,try again")}).always(()=>{})},uploadImg02(t){if(this.certificate_imgs.length>=5)return this.cn?this.errorToast("最多只能上传5张图片"):this.errorToast("No more than 5 pictures"),!1;const e=t.target.files||t.dataTransfer.files;let s=e[0];r()(s,{}).then(t=>{console.log(t.base64),this.$post(urls.uploadImg,{name:"1",base64:t.base64}).then(e=>{this.loadEnd();var s=new Object;s.img_id=e.data.id,s.img_path=t.base64,this.certificate_imgs.push(s),console.log(s)}).catch(t=>{this.loadEnd(),this.cn?this.errorToast("上传失败 请重试"):this.errorToast("Upload failed,try again")})}).catch(t=>{this.cn?this.errorToast("转码失败 请重试"):this.errorToast("Convert failed,try again")}).always(()=>{})},uploadImg03(t){if(this.imgs.length>=5)return this.cn?this.errorToast("最多只能上传5张图片"):this.errorToast("No more than 5 pictures"),!1;const e=t.target.files||t.dataTransfer.files;let s=e[0];r()(s,{}).then(t=>{console.log(t.base64),this.$post(urls.uploadImg,{name:"1",base64:t.base64}).then(e=>{this.loadEnd();var s=new Object;s.img_id=e.data.id,s.img_path=t.base64,this.imgs.push(s),console.log(s)}).catch(t=>{this.loadEnd(),this.cn?this.errorToast("上传失败 请重试"):this.errorToast("Upload failed,try again")})}).catch(t=>{this.cn?this.errorToast("转码失败 请重试"):this.errorToast("Convert failed,try again")})},delImg(t,e){switch(e){case"type1":this.license_imgs.splice(t,1);break;case"type2":this.certificate_imgs.splice(t,1);break;case"type3":this.imgs.splice(t,1);break}},submit(){return this.nullTest(this.name)?(this.cn?this.errorToast("请输入公司名称"):this.errorToast("Please enter company name"),!1):this.industryIndexs.length?this.businessIndexs.length?this.country_name?this.year?this.month?this.nullTest(this.reason)?(this.cn?this.errorToast("请输入出售原因"):this.errorToast("Please enter selling reason"),!1):this.nullTest(this.price)?(this.cn?this.errorToast("请输入售价"):this.errorToast("Please enter selling price"),!1):this.nullTest(this.desc)?(this.cn?this.errorToast("请输入公司简介"):this.errorToast("Please enter company profile"),!1):this.agree?void this.$post(urls.sellPublish,{company_name:this.name,business_type_lists:this.business_type_lists,industry_type_lists:this.industry_type_lists,country_id:this.country_id,country_name:this.country_name,region_id:this.region_id,region_name:this.region_name,place:this.address,life_year:this.year,life_month:this.month,sell_reason:this.reason,company_price:this.price,descs:this.desc,scope:this.scope,debt:this.debt,license_imgs:this.license_imgs,certificate_imgs:this.certificate_imgs,imgs:this.imgs,income:this.income}).then(t=>{if(this.loadEnd(),1==this.$store.state.userInfo.home)return this.$router.push({path:"/buy",query:{order_id:t.data.order_id}}),!1;this.$router.push({path:"/publish-success"})}).catch(t=>{this.loadEnd(),this.errorToast(t.data.msg)}):(this.cn?this.errorToast("请同意相关协议"):this.errorToast("Please agree to the relevant agreement"),!1):(this.cn?this.errorToast("请选择成立月份"):this.errorToast("Please select the month of establishment"),!1):(this.cn?this.errorToast("请选择成立年份"):this.errorToast("Please select the year of establishment"),!1):(this.cn?this.errorToast("请选择国家"):this.errorToast("Please select the country"),!1):(this.cn?this.errorToast("请选择企业类型"):this.errorToast("Please select an enterprise type"),!1):(this.cn?this.errorToast("请选择行业标签"):this.errorToast("Please select industry labels"),!1)}},created(){this.getInstruction(),this.getBusinessArr(),this.getIndustryArr(),this.getCountry()}},m=h,p=s("4e82"),g=Object(p["a"])(m,a,i,!1,null,null,null);e["default"]=g.exports}}]);